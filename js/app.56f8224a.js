(function(e){function n(n){for(var o,a,s=n[0],l=n[1],i=n[2],f=0,p=[];f<s.length;f++)a=s[f],r[a]&&p.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(n);while(p.length)p.shift()();return c.push.apply(c,i||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],o=!0,s=1;s<t.length;s++){var l=t[s];0!==r[l]&&(o=!1)}o&&(c.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={app:0},c=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/music-stats/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var i=0;i<s.length;i++)n(s[i]);var u=l;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var o=t("64a9"),r=t.n(o);r.a},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var o=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}}),e.loggedIn?e._e():t("LoginComponent"),e.loggedIn?t("Username"):e._e()],1)},c=[],a=t("cebc"),s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"hello"},[t("h1",[e._v(e._s(e.msg))])])},l=[],i={name:"HelloWorld",props:{msg:String}},u=i,f=(t("efca"),t("2877")),p=Object(f["a"])(u,s,l,!1,null,"28e27c0a",null),d=p.exports,g=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("a",{attrs:{href:e.url}},[e._v("Authenticate with Spotify")])])},m=[],h=(t("3b2b"),t("a481"),function(e,n){n||(n=window.location.href),e=e.replace(/[[]]/g,"\\$&");var t=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),o=t.exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}),b=h,v=t("c64e"),_=t.n(v),w=t("2f62"),y={name:"LoginComponent",data:function(){return{url:"https://accounts.spotify.com/authorize?client_id=a4463063c9834dd3bc5976eaa6f9e7c3&response_type=token&redirect_uri=https%3A%2F%2Frichodemus.github.io%2Fmusic-stats&scope=&show_dialog=false&state="+_()()}},mounted:function(){var e=b("access_token");if(e){var n=b("token_type"),t=b("expires_in"),o=b("error"),r=b("state");console.log(window.location.href),console.log("Access Token:",e),console.log("Token Type:",n),console.log("Expires In:",t),console.log("State:",r),console.log("Error:",o),window.history.pushState("Main","Title","/"),this.loggedIn(e)}},methods:Object(a["a"])({},Object(w["d"])({login:"login"}),Object(w["b"])(["loggedIn"]))},j=y,O=Object(f["a"])(j,g,m,!1,null,"229c1b73",null),S=O.exports,x=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._v("Your username is "+e._s(e.username))])},T=[],k={name:"Username",computed:Object(w["e"])({username:function(e){return e.username}})},E=k,I=Object(f["a"])(E,x,T,!1,null,"708130ae",null),A=I.exports,M={name:"app",computed:Object(a["a"])({},Object(w["c"])(["loggedIn"])),components:{LoginComponent:S,Username:A,HelloWorld:d}},$=M,P=(t("034f"),Object(f["a"])($,r,c,!1,null,null,null)),U=P.exports,C=t("bfa9");o["a"].use(w["a"]);var H=new C["a"]({storage:window.localStorage}),R=new w["a"].Store({state:{accessToken:null,username:null},mutations:{loggedIn:function(e,n){e.accessToken=n},SET_USERNAME:function(e,n){e.username=n}},actions:{loggedIn:function(e,n){console.log("loggedIn Action:",n,e),e.commit("loggedIn",n),fetch("https://api.spotify.com/v1/me",{headers:new Headers({Authorization:"Bearer "+n})}).then(function(e){return e.json()}).then(function(n){console.log(n),e.commit("SET_USERNAME",n.id)})}},getters:{loggedIn:function(e){return!!e.accessToken}},plugins:[H.plugin,function(e){e.subscribe(function(e,n){console.log("State change:",e,{accessToken:n.accessToken})})}]});o["a"].config.productionTip=!1,new o["a"]({store:R,render:function(e){return e(U)}}).$mount("#app")},"64a9":function(e,n,t){},d632:function(e,n,t){},efca:function(e,n,t){"use strict";var o=t("d632"),r=t.n(o);r.a}});
//# sourceMappingURL=app.56f8224a.js.map